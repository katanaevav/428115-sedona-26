var searchButton=document.querySelector(".search-button"),searchPopup=document.querySelector(".modal-search"),isShowing=!1,startDate=document.querySelector("[name=start-date]"),endDate=document.querySelector("[name=end-date]"),adults=document.querySelector("[name=adults]"),children=document.querySelector("[name=children]"),searchForm=document.querySelector(".search-form"),isStorageSupport=!0,storageAdults="",storageChildren="",TIMEOUT=800;searchPopup.classList.add("search-form-hide");try{storageAdults=localStorage.getItem("adults"),storageChildren=localStorage.getItem("children")}catch(e){isStorageSupport=!1}searchButton.addEventListener("click",function(){isShowing?(searchPopup.classList.add("search-form-hide"),searchPopup.classList.contains("search-form-show")&&searchPopup.classList.remove("search-form-show"),isShowing=!1):(searchPopup.classList.contains("search-form-hide")&&searchPopup.classList.remove("search-form-hide"),searchPopup.classList.add("search-form-show"),isShowing=!0,storageAdults&&(adults.value=storageAdults),storageChildren&&(children.value=storageChildren),startDate.focus())}),searchForm.addEventListener("submit",function(e){startDate.value&&endDate.value&&adults.value&&children.value?isStorageSupport&&(localStorage.setItem("adults",adults.value),localStorage.setItem("children",children.value)):(e.preventDefault(),searchPopup.classList.contains("search-form-show")&&searchPopup.classList.remove("search-form-show"),searchPopup.classList.add("modal-error"),console.log("Форма поиска гостиницы не заполнена"),setTimeout(function(){searchPopup.classList.remove("modal-error")},TIMEOUT))});